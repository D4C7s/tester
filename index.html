<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>El ABC de la Energ√≠a: Conceptos Fundamentales y Rendimiento</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    
    <script>
        window.MathJax = {
            tex: { inlineMath: [['\\(','\\)'], ['\\[','\\]']] },
            svg: { fontCache: 'global' }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" async></script>

    <style>
        /* Reset b√°sico */
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
            min-height: 100vh;
            transition: background-color 1s ease;
            color: #222;
        }

        /* ------------------------------------------- */
        /* MEN√ö DESPLEGABLE (NAV)                      */
        /* ------------------------------------------- */

        nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 280px; 
            height: 100%;
            background-color: #223044;
            color: #fff;
            display: flex;
            flex-direction: column;
            padding: 24px 18px;
            gap: 8px;
            z-index: 1000; 
            transform: translateX(-100%); 
            transition: transform 0.3s ease;
            box-shadow: 4px 0 10px rgba(0, 0, 0, 0.2);
        }

        nav.active {
            transform: translateX(0); 
        }

        nav h2 {
            font-size: 18px;
            line-height: 1.1;
            margin-bottom: 10px;
            font-weight: 600;
            letter-spacing: 0.2px;
        }

        /* Botones de navegaci√≥n */
        .nav-btn {
            background-color: #2f4b5f;
            border: none;
            color: white;
            padding: 12px 14px;
            margin-bottom: 8px;
            cursor: pointer;
            text-align: left;
            font-size: 14px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: background-color 0.25s ease, transform 0.18s ease, box-shadow 0.25s ease;
        }

        .nav-btn i { width: 20px; text-align: center; }

        .nav-btn:hover {
            background-color: #1abc9c;
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 6px 18px rgba(27,188,155,0.12);
            color: #062826;
        }

        .nav-btn.active {
            background-color: #19b79f;
            color: #062826;
            box-shadow: 0 8px 22px rgba(27,188,155,0.14);
        }

        /* ------------------------------------------- */
        /* BOT√ìN HAMBURGUESA (Men√∫ Toggle)             */
        /* ------------------------------------------- */

        #menu-toggle {
            position: fixed;
            top: 15px;
            left: 15px;
            z-index: 1001; 
            background-color: #223044;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: background-color 0.2s ease;
        }

        #menu-toggle:hover {
            background-color: #19b79f;
        }

        /* ------------------------------------------- */
        /* √ÅREA PRINCIPAL (main)                       */
        /* ------------------------------------------- */
        main {
            margin: 0;
            padding: 36px;
            padding-top: 60px; 
            width: 100%;
            transition: background-color 1s ease;
            min-height: 100vh;
        }

        /* ------------------------------------------- */
        /* MENSAJE DE ADVERTENCIA PARA ROTACI√ìN        */
        /* ------------------------------------------- */
        #orientation-warning {
            display: none; 
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: #223044;
            color: white;
            z-index: 2000; 
            text-align: center;
            padding: 20px;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-family: inherit;
        }
        #orientation-warning i {
            font-size: 4em;
            margin-bottom: 0.5em;
            color: #19b79f;
        }
        #orientation-warning p {
            color: white;
            font-size: 1.1em;
            max-width: 80%;
        }


        /* Secciones, tarjetas, f√≥rmulas, etc. */
        .section { display: none; opacity: 0; transform: translateY(6px); transition: opacity 0.45s ease, transform 0.45s ease; }
        .section.active { display: block; }
        .section.visible { opacity: 1; transform: translateY(0); }
        .card { background: rgba(255,255,255,0.95); border-radius: 12px; padding: 1.5em; box-shadow: 0 8px 22px rgba(16,24,40,0.06); margin-bottom: 18px; line-height: 1.5; }
        h1 { font-size: 28px; margin-bottom: 8px; }
        h2 { font-size: 20px; margin-bottom: 8px; }
        h3 { font-size: 16px; margin-bottom: 8px; }
        p { margin-bottom: 12px; color: #1e293b; }
        p[style*="font-weight:600"] { text-align: center; }
        table { width: 100%; border-collapse: collapse; margin-top: 8px; }
        th, td { padding: 8px 10px; border-bottom: 1px solid #e6eef6; text-align: left; font-size: 0.95em; }
        footer { margin-top: 26px; padding: 18px; border-radius: 10px; background-color: rgba(236,240,241,0.9); text-align: center; font-size: 0.9em; color: #0f172a; }
        figure { margin: 14px 0; text-align: center; }
        figure video { max-width: 100%; border-radius: 8px; display: inline-block; }
        figcaption { font-size: 0.9em; color: #475569; margin-top: 6px; }


        /* ------------------------------------------- */
        /* ESTILOS ESPEC√çFICOS DEL MAPA (section#mapa) */
        /* ------------------------------------------- */
        
        /* Contenedor del mapa debe llenar el espacio de la secci√≥n activa */
        #mapa .card {
            padding: 0;
            overflow: hidden;
            height: 85vh; /* Altura fija para que el mapa se muestre */
            position: relative;
        }

        #leaflet-map {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        /* SIDEBAR (PANEL LATERAL DEL MAPA) */
        #sidebar-mapa {
            position: absolute;
            top: 0;
            right: 0;
            width: 350px;
            height: 100%;
            background-color: #ffffff;
            z-index: 1000;
            box-shadow: -4px 0 12px rgba(0, 0, 0, 0.2);
            transform: translateX(100%); 
            transition: transform 0.3s ease-in-out;
            display: flex;
            flex-direction: column;
            padding: 20px 15px;
        }

        #sidebar-mapa.open {
            transform: translateX(0); 
        }

        #sidebar-mapa h2 {
            margin-top: 0;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
            color: #223044;
            font-size: 1.5em;
        }

        /* Contenedor de la lista con scroll */
        #plant-list-container {
            flex-grow: 1;
            overflow-y: auto;
            padding-right: 5px; 
        }

        /* Estilo de los elementos individuales de la lista */
        .plant-item {
            background-color: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: background-color 0.2s ease, border-color 0.2s ease;
        }

        .plant-item:hover {
            background-color: #e9ecef;
            border-color: #1abc9c;
        }

        .plant-item.highlighted {
            background-color: #1abc9c;
            color: white;
            border-color: #0d836e;
            font-weight: bold;
        }

        .plant-item.highlighted p {
            color: #f8f9fa;
        }
        
        .plant-item h3 {
            margin: 0 0 5px 0;
            font-size: 1.1em;
            display: flex;
            align-items: center;
        }

        .plant-item .icon {
            margin-right: 8px;
            width: 18px;
            text-align: center;
        }

        .plant-item p {
            margin: 4px 0;
            font-size: 0.9em;
            color: #6c757d;
        }
        
        /* BOT√ìN DE TOGGLE SIDEBAR DEL MAPA */
        #sidebar-toggle-mapa {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 1001;
            background-color: #223044;
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2em;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: background-color 0.2s ease, transform 0.2s ease;
        }

        #sidebar-toggle-mapa:hover {
            background-color: #1abc9c;
            transform: scale(1.05);
        }

        /* Marcadores Leaflet (Para diferenciar por tipo) */
        .marker-icon {
            background-color: white;
            border-radius: 50%;
            border: 3px solid;
            width: 30px;
            height: 30px;
            text-align: center;
            line-height: 25px; 
            color: white;
            font-size: 14px;
        }
        
        /* Definici√≥n de colores para los tipos */
        .type-e√≥lica { background-color: #2ecc71; border-color: #27ae60; }
        .type-solar { background-color: #f39c12; border-color: #e67e22; }
        .type-hidroel√©ctrica { background-color: #3498db; border-color: #2980b9; }
        .type-biomasa { background-color: #8e44ad; border-color: #9b59b6; }
        .type-geot√©rmica { background-color: #e74c3c; border-color: #c0392b; }
        .type-nuclear { background-color: #95a5a6; border-color: #7f8c8d; }
        .type-f√≥sil { background-color: #7f8c8d; border-color: #6c7a89; }

        .popup-content h4 { margin-top: 0; margin-bottom: 5px; font-size: 1.1em; color: #223044; }
        .popup-content p { margin: 2px 0; font-size: 0.9em; }

        /* ------------------------------------------- */
        /* RESPONSIVE Y ORIENTACI√ìN HORIZONTAL (Mantenido) */
        /* ------------------------------------------- */
        
        /* Ocultar el contenido y mostrar advertencia en Portrait */
        @media (max-width: 768px) and (orientation: portrait) {
            body { display: block; overflow: hidden; }
            nav, main, footer, #menu-toggle { display: none !important; }
            #orientation-warning { display: flex; }
        }

        /* Ajustes para pantallas m√°s peque√±as en modo LANDSCAPE (donde s√≠ se ve) */
        @media (max-width: 600px) and (orientation: landscape) {
            main { padding: 15px; padding-top: 60px; }
            #menu-toggle { top: 10px; left: 10px; width: 35px; height: 35px; font-size: 16px; }
            h1 { font-size: 1.6em; }
            h2 { font-size: 1.3em; }
            .card { padding: 0.8em; }
            nav { width: 250px; }
            #sidebar-mapa { width: 300px; }
            #sidebar-toggle-mapa { right: 10px; top: 10px; width: 40px; height: 40px; }
        }
    </style>
</head>
<body>

    <div id="orientation-warning">
        <i class="fas fa-mobile-alt"></i>
        <h2>¬°Gira tu Dispositivo!</h2>
        <p>Para garantizar la mejor experiencia de visualizaci√≥n del contenido t√©cnico y las f√≥rmulas, por favor, **rota tu celular a modo horizontal** (apaisado).</p>
    </div>

    <button id="menu-toggle" onclick="toggleMenu()">
        <i class="fas fa-bars"></i>
    </button>

    <nav id="sidebar-nav">
        <h2>El ABC de la Energ√≠a<br><small style="font-weight:400;opacity:.9">Conceptos y Rendimiento</small></h2>

        <button class="nav-btn active" id="btn-conceptos" onclick="showSection('conceptos','#f9f9f9', this)"><i class="fas fa-bolt"></i><span class="label">1. Energ√≠a, Trabajo y Potencia</span></button>
        <button class="nav-btn" id="btn-renovables" onclick="showSection('renovables','#d6f5d6', this)"><i class="fas fa-leaf"></i><span class="label">2. Renovables / No Renovables</span></button>
        <button class="nav-btn" id="btn-historia" onclick="showSection('historia','#b3e6b3', this)"><i class="fas fa-history"></i><span class="label">3. Historia en Argentina</span></button>
        <button class="nav-btn" id="btn-tipos" onclick="showSection('tipos','#ffe0b3', this)"><i class="fas fa-solar-panel"></i><span class="label">4. Tipos de EERR</span></button>
        <button class="nav-btn" id="btn-mapa" onclick="showSection('mapa','#cce0ff', this)"><i class="fas fa-map-marked-alt"></i><span class="label">5. Mapa Interactivo</span></button>
        <button class="nav-btn" id="btn-simulador" onclick="showSection('simulador','#ffb3d9', this)"><i class="fas fa-cogs"></i><span class="label">6. Simulador Fotovoltaico</span></button>
    </nav>

    <main id="main-content">

        <section id="conceptos" class="section active visible">
            <article class="card">
                <h1>La Base de Nuestra Matriz Energ√©tica: Energ√≠a, Trabajo y Potencia</h1>
                <div>
                    <p>
                    Cuando hablamos de energ√≠a, muchas veces escuchamos que ‚Äúes la capacidad que tiene un cuerpo para realizar trabajo‚Äù. Esta definici√≥n, muy usada en qu√≠mica y biolog√≠a, suena correcta‚Ä¶ pero a los f√≠sicos nos deja un poco inconformes. ¬øPor qu√©? Porque es como decir que la energ√≠a sirve para hacer lo que hace la energ√≠a: una definici√≥n que gira en c√≠rculo.
                    </p>

                    <p>
                    Entonces, ¬øqu√© es realmente la energ√≠a? Si lo pensamos, todo a nuestro alrededor depende de ella. Cuando comemos un alfajor, aprovechamos la energ√≠a qu√≠mica de los alimentos para que nuestro cuerpo funcione. Cuando encendemos la luz, usamos energ√≠a el√©ctrica para transformar la oscuridad en claridad. En ambos casos hay energ√≠a, aunque se presente de formas distintas.
                    </p>

                    <p>
                    Por eso, una definici√≥n m√°s completa ser√≠a decir que la energ√≠a es la capacidad que tiene un cuerpo para transformarse a s√≠ mismo o transformar su entorno. Y aunque esta idea se acerca bastante, la realidad es que la energ√≠a es un concepto tan amplio que no hay una √∫nica definici√≥n que logre abarcar todas sus manifestaciones. Maxwell, uno de los grandes f√≠sicos de la historia, la defini√≥ como una funci√≥n escalar que permite calcular el trabajo, una manera m√°s matem√°tica de expresar lo mismo: la energ√≠a es una forma de medir los cambios que ocurren en el mundo.
                    </p>

                    <p>
                    Un ejemplo claro de esto lo vemos en un saltador con p√©rtiga. Cuando corre hacia la barra, acumula energ√≠a cin√©tica. Al apoyar la p√©rtiga, esa energ√≠a se transforma en energ√≠a potencial el√°stica, al doblarse la vara, y luego en energ√≠a potencial gravitacional, al elevarse su cuerpo. En el punto m√°s alto, la p√©rtiga ya no est√° doblada y casi toda la energ√≠a inicial del atleta se ha convertido en energ√≠a gravitacional: es decir, ha cambiado de forma, pero no ha desaparecido.
                    </p>

                    <p style="text-align:center; margin-top:10px;">
                        <figure>
                            <video src="assets/gif_saltobarra.mp4" alt="Saltador con p√©rtiga ‚Äî gif_saltobarra" loop muted autoplay playsinline loading="lazy"></video>
                            <figcaption>Video: secuencia simplificada del salto con p√©rtiga (archivo: <code>assets/gif_saltobarra.mp4</code>).</figcaption>
                        </figure>
                    </p>
                    
                    <p>
                    Y justamente ah√≠ est√° lo fascinante: la energ√≠a no se crea ni se destruye, solo se transforma. Esto es lo que conocemos como la **Ley de Conservaci√≥n de la Energ√≠a** o **Primer Principio de la Termodin√°mica**. Desde el funcionamiento de nuestro cuerpo hasta el movimiento de un atleta o la electricidad de nuestras casas, todo lo que sucede en el universo es, en el fondo, un constante intercambio y transformaci√≥n de energ√≠a.
                    </p>

                    <h2>Trabajo: La Transferencia de Energ√≠a</h2>

                    <p>
                    Cuando decimos que la energ√≠a puede transformarse, en realidad estamos hablando de c√≥mo las fuerzas act√∫an sobre los cuerpos y les transfieren energ√≠a. Esa transferencia recibe un nombre muy particular en f√≠sica: trabajo.
                    </p>

                    <p>
                    En la vida cotidiana usamos la palabra ‚Äútrabajo‚Äù para hablar de esfuerzo, pero en f√≠sica tiene un significado m√°s preciso. Una fuerza realiza trabajo sobre un cuerpo cuando lo desplaza en la misma direcci√≥n (o parcialmente en la misma direcci√≥n) que la fuerza aplicada. Si empujamos una caja y esta se mueve, estamos realizando trabajo sobre ella: parte de la energ√≠a de quien empuja se transfiere al objeto.
                    </p>

                    <p>
                    Matem√°ticamente, el trabajo es una magnitud **escalar** que se define como:
                    </p>

                    <p style="font-weight:600; text-align: center;">
                        \( W = F \cdot d \cdot \cos(\theta) \)
                    </p>

                    <p>
                    donde:
                    </p>
                    <ul>
                        <li>\(W\) es el trabajo (medido en joules, J),</li>
                        <li>\(F\) es la magnitud de la fuerza aplicada,</li>
                        <li>\(d\) es el desplazamiento del objeto, y</li>
                        <li>\(\theta\) es el √°ngulo entre la fuerza y el desplazamiento.</li>
                    </ul>

                    <p>
                    Es importante notar que el trabajo puede ser **negativo**. Esto ocurre cuando la fuerza aplicada es opuesta al desplazamiento, como la fuerza de fricci√≥n que act√∫a para frenar un objeto o la gravedad cuando subimos un objeto. Esto significa que la fuerza est√° *extrayendo* energ√≠a del sistema.
                    </p>

                    <p>
                    Cuando una fuerza realiza trabajo sobre un cuerpo, lo que hace es cambiar su energ√≠a. Si el cuerpo gana velocidad, su energ√≠a aumenta; si se eleva o comprime un resorte, la energ√≠a se almacena de otra forma. De ah√≠ surgen los diferentes tipos de energ√≠a.
                    </p>

                    <h3>Energ√≠a Cin√©tica</h3>
                    <p>
                    La energ√≠a cin√©tica est√° asociada al movimiento. Cuanto mayor sea la masa y la velocidad de un objeto, mayor ser√° su energ√≠a cin√©tica. Su expresi√≥n matem√°tica es:
                    </p>
                    <p style="font-weight:600; text-align: center;">\( E_c = \dfrac{1}{2} m v^2 \)</p>
                    <p>donde <em>m</em> es la masa del cuerpo y <em>v</em> su velocidad. Si aplicamos una fuerza sobre un cuerpo y este acelera, el trabajo realizado sobre √©l se traduce en un aumento de su energ√≠a cin√©tica.</p>

                    <h3>Energ√≠a Potencial Gravitacional</h3>
                    <p>
                    Cuando un cuerpo se encuentra a cierta altura sobre la superficie terrestre, tiene la capacidad de caer y realizar trabajo gracias a la fuerza de gravedad. A esa capacidad la llamamos energ√≠a potencial gravitacional, y depende de la masa del objeto, de la aceleraci√≥n de la gravedad y de la altura a la que se encuentra:
                    </p>
                    <p style="font-weight:600; text-align: center;">\( E_{pg} = m \cdot g \cdot h \)</p>
                    <p>donde: <em>m</em> es la masa del cuerpo, <em>g</em> es la aceleraci√≥n de la gravedad (9,8 m/s¬≤) y <em>h</em> es la altura respecto a un **nivel de referencia** (el cual se elige arbitrariamente, como el suelo o el fondo de un valle).</p>

                    <p>
                    Cuanto m√°s alto est√© un objeto, m√°s energ√≠a potencial gravitacional posee, porque puede transformarla en movimiento al caer.
                    </p>

                    <h3>Energ√≠a Potencial El√°stica</h3>
                    <p>
                    Otro tipo de energ√≠a almacenada es la energ√≠a potencial el√°stica, que aparece cuando deformamos un cuerpo el√°stico, como un resorte, una goma o incluso la p√©rtiga del atleta del ejemplo anterior. Su expresi√≥n matem√°tica es:
                    </p>
                    <p style="font-weight:600; text-align: center;">\( E_{pe} = \dfrac{1}{2} k x^2 \)</p>
                    <p>donde <em>k</em> es la constante el√°stica del resorte y <em>x</em> la deformaci√≥n respecto a su posici√≥n natural (estiramiento o compresi√≥n).</p>

                    <p>
                    Esta energ√≠a se libera cuando el cuerpo vuelve a su forma original, transform√°ndose nuevamente en energ√≠a cin√©tica o en otro tipo de energ√≠a.
                    </p>

                    <h3>Energ√≠a Mec√°nica y su Conservaci√≥n</h3>
                    <p>
                    Si sumamos la energ√≠a cin√©tica (movimiento) y la energ√≠a potencial (posici√≥n o deformaci√≥n), obtenemos la energ√≠a mec√°nica total de un cuerpo o sistema:
                    </p>
                    <p style="font-weight:600; text-align: center;">\( E_m = E_c + E_p \)</p>
                    <p>donde \(E_p\) puede ser gravitacional o el√°stica, seg√∫n el caso. En sistemas donde s√≥lo act√∫an fuerzas conservativas (como la gravedad o la elasticidad), la energ√≠a mec√°nica total se conserva, lo que significa que no se pierde, sino que se transforma continuamente entre sus distintas formas.</p>

                    <h2>Potencia: La Rapidez de la Transformaci√≥n</h2>

                    <p>
                    A lo largo de todo este recorrido vimos c√≥mo la energ√≠a puede transformarse y conservarse, y c√≥mo el trabajo permite que esas transformaciones ocurran. Pero no todas las transformaciones de energ√≠a suceden al mismo ritmo. Esa diferencia en la rapidez con que se realiza trabajo o se transforma energ√≠a es lo que en f√≠sica llamamos **potencia**.
                    </p>

                    <p>
                    La potencia mide cu√°nta energ√≠a se transforma en un cierto tiempo, o, dicho de otro modo, con qu√© rapidez se realiza trabajo. Matem√°ticamente, se define como:
                    </p>
                    <p style="font-weight:600; text-align: center;">\( P = \dfrac{W}{t} \)</p>
                    <p>donde \(P\) representa la potencia, \(W\) el trabajo realizado y \(t\) el tiempo empleado. Su unidad es el **watt (W)**, que equivale a un joule por segundo (J/s). As√≠, una m√°quina con una potencia de 1000 W transforma mil joules de energ√≠a cada segundo. En la industria y en el √°mbito residencial, la energ√≠a consumida se mide generalmente en **kilovatios-hora (kWh)**, que es la potencia (kW) multiplicada por el tiempo (h).</p>

                    <p>
                    Esta idea, que puede parecer sencilla, fue clave para el desarrollo tecnol√≥gico. A partir de ella, el ser humano pudo comparar y dise√±ar m√°quinas no solo seg√∫n la cantidad de trabajo que pod√≠an hacer, sino tambi√©n seg√∫n qu√© tan r√°pido pod√≠an hacerlo.
                    </p>

                    <p>
                    En el √°mbito industrial, la potencia est√° directamente relacionada con la productividad y la eficiencia. Dos m√°quinas pueden realizar exactamente el mismo trabajo ‚Äîpor ejemplo, levantar una carga hasta cierta altura‚Äî, pero la diferencia est√° en cu√°nto tardan. La que lo haga en menos tiempo ser√° m√°s potente, porque transforma la energ√≠a con mayor rapidez.
                    </p>

                    <h2>Eficiencia: La Conversi√≥n Real</h2>
                    
                    <p>
                    Sin embargo, no toda la energ√≠a que recibe una m√°quina se aprovecha en forma √∫til: parte de ella se pierde en calor, rozamiento o ruido. Esto se debe a que, seg√∫n el **Segundo Principio de la Termodin√°mica** (o ley de la entrop√≠a), es imposible que un sistema convierta el 100% de la energ√≠a de entrada en trabajo √∫til. Por eso, adem√°s de conocer la potencia, es fundamental medir qu√© fracci√≥n de la energ√≠a total se transforma realmente en trabajo √∫til, algo que llamamos **eficiencia energ√©tica**.
                    </p>

                    <p>
                    La eficiencia se define como la relaci√≥n entre la potencia √∫til que entrega una m√°quina y la potencia total que consume. Ning√∫n dispositivo alcanza el 100 % de eficiencia, porque siempre hay p√©rdidas inevitables. Aun as√≠, el desarrollo tecnol√≥gico busca reducir esas p√©rdidas, optimizando el uso de la energ√≠a y aumentando el rendimiento de los sistemas.
                    </p>

                    <h3>El Desaf√≠o de la Sostenibilidad: Conectando F√≠sica y Ecolog√≠a üåç</h3>

                    <p>
                    De esta manera, el concepto de potencia nos permite conectar el mundo abstracto de la f√≠sica con la realidad concreta de las m√°quinas y la industria. Comprender c√≥mo se transforma la energ√≠a, con qu√© rapidez se hace y cu√°nta se pierde en el proceso, es el primer paso para analizar m√°s adelante c√≥mo producimos, usamos y aprovechamos la energ√≠a en nuestra vida diaria. Y tambi√©n para preguntarnos algo fundamental: ¬øc√≥mo lograr que esas transformaciones sean cada vez m√°s eficientes y sostenibles?
                    </p>

                    <p>
                    Responderla obliga a mirar m√°s all√° de la m√°quina individual y considerar la naturaleza del recurso energ√©tico y sus costos a largo plazo. Las fuentes tradicionales basadas en combustibles f√≥siles presentan l√≠mites claros: muchos motores de combusti√≥n convierten solo una fracci√≥n (orden del 20 % en algunos motores de autos) de la energ√≠a qu√≠mica en trabajo mec√°nico, y plantas t√©rmicas suelen tener eficiencias modestamente superiores, con p√©rdidas importantes. Adem√°s, la extracci√≥n y el uso de estos combustibles generan externalidades ‚Äîcontaminaci√≥n, emisiones de gases de efecto invernadero, impactos sobre ecosistemas‚Äî que comprometen su sostenibilidad.
                    </p>

                    <p>
                    Por el contrario, las fuentes renovables (solar, e√≥lica, geot√©rmica, mareomotriz, entre otras) aprovechan flujos energ√©ticos naturales y, en general, reducen las externalidades ambientales. Presentan desaf√≠os t√©cnicos propios ‚Äîintermitencia en solar y e√≥lica, necesidades de almacenamiento y redes inteligentes‚Äî pero permiten dise√±ar sistemas energ√©ticos menos dependientes de recursos finitos y con menor impacto ambiental. Algunas fuentes renovables, como la geotermia, ofrecen una producci√≥n continua y estable; otras requieren infraestructuras de almacenamiento o integraci√≥n a la red para ser plenamente aprovechadas.
                    </p>

                    <p>
                    En otras palabras: pensar en eficiencia energ√©tica ya no es solo maximizar la potencia √∫til por unidad de energ√≠a consumida; es evaluar la huella ambiental, la disponibilidad sostenida del recurso y el costo (econ√≥mico y ecol√≥gico) de su adopci√≥n. La transici√≥n hacia fuentes renovables implica un doble objetivo: reducir la dependencia de combustibles f√≥siles y disminuir el impacto ambiental, mientras se mantiene o mejora el rendimiento de nuestras m√°quinas y procesos.
                    </p>

                    <p>
                    Desde la perspectiva de la f√≠sica industrial esto tiene consecuencias pr√°cticas: optimizar procesos, dise√±ar m√°quinas m√°s eficientes, implementar recuperaci√≥n de calor, mejorar la gesti√≥n de la demanda, y combinar esto con fuentes de baja huella y con sistemas de almacenamiento y redes inteligentes. Solo as√≠ se puede construir un modelo energ√©tico resiliente y equilibrado.
                    </p>

                    <p>
                    En definitiva, la pregunta que hemos planteado al principio ‚Äî¬øc√≥mo lograr transformaciones m√°s eficientes y sostenibles?‚Äî no tiene una soluci√≥n √∫nica ni puramente t√©cnica. Es una pregunta sist√©mica que exige integrar f√≠sica, ingenier√≠a, econom√≠a y pol√≠ticas p√∫blicas. La f√≠sica nos da las herramientas para medir, comparar y optimizar las transformaciones energ√©ticas; el desaf√≠o es aplicar esas herramientas pensando en el largo plazo: elegir fuentes con menor huella, reducir p√©rdidas, y redise√±ar sistemas para que la energ√≠a que usamos hoy no comprometa la vida de las generaciones futuras.
                    </p>
                </div>

            </article>

            <article class="card">
                <h2>Tabla resumen r√°pido</h2>
                <table>
                    <thead>
                        <tr><th>Concepto</th><th>F√≥rmula</th><th>Unidad</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>Energ√≠a cin√©tica</td><td>\(E_k=\tfrac{1}{2}mv^2\)</td><td>J</td></tr>
                        <tr><td>Energ√≠a potencial gravitacional</td><td>\(E_p=mgh\)</td><td>J</td></tr>
                        <tr><td>Trabajo</td><td>\(W=F\cdot d\cdot\cos(\theta)\)</td><td>J</td></tr>
                        <tr><td>Potencia</td><td>\(P=\dfrac{W}{t}\)</td><td>W (J/s)</td></tr>
                        <tr><td>Energ√≠a el√©ctrica</td><td>\(E=P\cdot t\)</td><td>kWh, J</td></tr>
                        <tr><td>Eficiencia</td><td>\(\eta=\dfrac{E_{\text{√∫til}}}{E_{\text{entrada}}}\)</td><td>adimensional / %</td></tr>
                    </tbody>
                </table>
            </article>

        </section>

        <section id="renovables" class="section">
            <article class="card">
                <h1>Energ√≠as Renovables y No Renovables</h1>
                <p>Placeholder / marco te√≥rico ‚Äî aqu√≠ estar√° el texto ampliado sobre la definici√≥n, origen y ejemplos de cada tipo.</p>
            </article>
        </section>

        <section id="historia" class="section">
            <article class="card">
                <h1>La Transici√≥n Energ√©tica en Argentina</h1>
                <h2 style="font-size: 1rem; color: #555; font-weight: 400; margin-top: -5px; margin-bottom: 20px;">Entre la Potencialidad de los Recursos y las Barreras Estructurales</h2>

                <div>
                    <p>
                        En el actual escenario de transici√≥n energ√©tica global, impulsada por la urgencia de la crisis clim√°tica y los compromisos del Acuerdo de Par√≠s, el mundo avanza decididamente hacia la descarbonizaci√≥n, un cambio estructural donde Argentina ocupa una posici√≥n de relevancia estrat√©gica fundamental. El pa√≠s encarna una tensi√≥n caracter√≠stica de las econom√≠as emergentes: posee una coexistencia √∫nica entre un vasto y excepcional potencial de recursos naturales renovables y una serie de persistentes desaf√≠os estructurales ‚Äîmacroecon√≥micos, t√©cnicos y regulatorios‚Äî que hist√≥ricamente han condicionado su aprovechamiento. Evaluar este panorama requiere ir m√°s all√° de las cifras superficiales para comprender la compleja interacci√≥n entre la pol√≠tica p√∫blica, la inversi√≥n privada y la realidad industrial del pa√≠s.
                    </p>

                    
                    <h2>1. Evoluci√≥n Hist√≥rica: La Primera Etapa (1998-2015)</h2>
                    <p>
                        Para entender el presente, es imperativo desglosar la evoluci√≥n hist√≥rica del marco normativo, la cual revela patrones de riesgo y lecciones aprendidas que son cruciales para cualquier inversor. Una primera etapa, que abarca desde 1998 hasta 2015, se caracteriz√≥ por intentos iniciales que, si bien sentaron precedentes legislativos, arrojaron resultados sumamente limitados.
                    </p>
                    <p>
                        Durante este per√≠odo se sancionaron leyes como la <strong>Ley 25.019</strong> en 1998 y la <strong>Ley 26.190</strong> en 2006; esta √∫ltima fij√≥ la ambiciosa meta de alcanzar un 8% del consumo el√©ctrico nacional con fuentes renovables para el a√±o 2016 e implement√≥ beneficios fiscales y remuneraciones adicionales. Tambi√©n se lanz√≥ el <strong>Programa GENREN</strong> en 2009, el primer intento de utilizar subastas para contratos a 15 a√±os en d√≥lares.
                    </p>
                    <p>
                        Sin embargo, la falta de acceso a financiamiento, las demoras en la reglamentaci√≥n, el congelamiento de tarifas el√©ctricas y la insuficiencia de incentivos econ√≥micos frente a la inflaci√≥n conspiraron contra estos objetivos. El fracaso de esta etapa fue evidente: para 2015, apenas el 1.9% de la demanda el√©ctrica era cubierta por fuentes renovables, muy lejos de la meta del 8% prometida, demostrando que los incentivos aislados, sin garant√≠as robustas ni mecanismos de contrataci√≥n competitivos, son ineficaces en el vol√°til contexto argentino.
                    </p>

                    <h2>2. El Punto de Inflexi√≥n: Ley 27.191 y Nuevos Instrumentos</h2>
                    <p>
                        Esta realidad cambi√≥ dr√°sticamente en 2015 con la sanci√≥n de la <strong>Ley 27.191</strong>, que marc√≥ el inicio de una segunda etapa de consolidaci√≥n regulatoria al establecer metas obligatorias y progresivas ‚Äîcomo alcanzar el 20% de la matriz para 2025‚Äî y dise√±ar un ecosistema de instrumentos robusto. El √©xito inicial de este r√©gimen se bas√≥ en la diversificaci√≥n de los mecanismos de contrataci√≥n, principalmente a trav√©s del <strong>Programa RenovAr</strong> (licitaciones p√∫blicas con contratos a 20 a√±os en d√≥lares) y el <strong>Mercado a T√©rmino (MATER)</strong> para grandes usuarios.
                    </p>
                    <p>
                        Un componente decisivo fue la creaci√≥n del Fondo Fiduciario para el Desarrollo de Energ√≠as Renovables (FODER), que no solo ofrec√≠a financiamiento, sino que actuaba fundamentalmente como una garant√≠a de pago para mitigar el riesgo de la contraparte estatal (CAMMESA), mejorando as√≠ la bancabilidad de los proyectos ante inversores internacionales. Posteriormente, este marco se ampli√≥ para incluir a la ciudadan√≠a a trav√©s de la Ley 27.424 de 2017, que foment√≥ la Generaci√≥n Distribuida, permitiendo a los usuarios inyectar excedentes a la red. M√°s recientemente, y ante la necesidad de atraer capital intensivo en un contexto de alto riesgo pa√≠s, en 2024 se aprob√≥ el R√©gimen de Incentivo para Grandes Inversiones (RIGI), que ofrece estabilidad normativa por 30 a√±os y beneficios agresivos en materia aduanera y cambiaria.
                    </p>

                    
                    <h2>3. Resultados y Vulnerabilidades (2015-2023)</h2>
                    <p>
                        El an√°lisis de los resultados de este r√©gimen entre 2015 y 2023 muestra un avance cuantitativo innegable pero tambi√©n vulnerabilidades cr√≠ticas. La potencia instalada renovable dio un salto significativo, pasando del 1.94% de la matriz en 2015 al 13.13% en 2023, logrando cubrir el 14.3% de la demanda el√©ctrica. Adem√°s, el programa RenovAr logr√≥ reducir los precios de los contratos por debajo del costo promedio de generaci√≥n del sistema, demostrando competitividad inicial.
                    </p>
                    <p>
                        No obstante, la sostenibilidad financiera del modelo se revel√≥ fr√°gil ante la inestabilidad macroecon√≥mica; la crisis iniciada en 2018 y el cierre de los mercados de cr√©dito paralizaron gran parte de los proyectos adjudicados en las rondas posteriores. Mientras que en la Ronda 1 el 90% de los proyectos logr√≥ el cierre financiero, en la Ronda 3 solo el 2% lleg√≥ a operar comercialmente, evidenciando que la dependencia del financiamiento externo fue el "tal√≥n de Aquiles" del programa.
                    </p>

                    <h2>4. Perspectiva Industrial y Cadena de Valor</h2>
                    <p>
                        Desde una perspectiva industrial, el modelo prioriz√≥ la velocidad de instalaci√≥n y la reducci√≥n de costos sobre el desarrollo de la cadena de valor local. Al privilegiar el precio en las licitaciones, se favoreci√≥ la importaci√≥n de tecnolog√≠a: en el caso de la energ√≠a e√≥lica, el 85% de la inversi√≥n en aerogeneradores fue importada, relegando a la industria nacional a componentes de menor complejidad como las torres. Asimismo, el mercado se concentr√≥ en grandes actores corporativos, con una participaci√≥n marginal de cooperativas o PyMEs, aunque se destaca la generaci√≥n de aproximadamente 17,400 empleos directos y una federalizaci√≥n de las inversiones hacia regiones como la Patagonia y el NOA.
                    </p>

                    <h2>5. Ventaja Competitiva: Recursos de Clase Mundial</h2>
                    <p>
                        A pesar de estos desaf√≠os, Argentina mantiene una ventaja competitiva estructural basada en sus recursos naturales de clase mundial. El potencial e√≥lico en la Patagonia es excepcional, con factores de capacidad que pueden llegar al 60%, superando ampliamente los promedios de Europa (25%) y Estados Unidos (35%). De igual forma, el Noroeste argentino ofrece niveles de irradiaci√≥n solar entre los mejores del planeta, con rendimientos superiores en un 15-20% a otras regiones comparables. Estos recursos no solo permiten generar electricidad barata, sino que habilitan sinergias con vectores energ√©ticos emergentes como la producci√≥n de hidr√≥geno verde, el desarrollo de la cadena de valor del litio y las bater√≠as para almacenamiento, y la electromovilidad.
                    </p>

                    <h2>6. Desaf√≠os y Cuellos de Botella</h2>
                    <p>
                        Sin embargo, para capitalizar estas oportunidades, es imperativo resolver cuellos de botella cr√≠ticos. En el plano t√©cnico, la saturaci√≥n de la red de transmisi√≥n el√©ctrica es el obst√°culo f√≠sico m√°s inmediato; la infraestructura de alta tensi√≥n est√° al l√≠mite y no puede evacuar la energ√≠a de las zonas con mejores recursos sin inversiones masivas. En el plano macroecon√≥mico, la volatilidad cambiaria, la inflaci√≥n cr√≥nica y la falta de acceso a cr√©dito a tasas competitivas siguen siendo barreras que dificultan la planificaci√≥n a largo plazo. Adem√°s, surgen desaf√≠os socioambientales, como el riesgo de conflictos territoriales y la necesidad de gestionar los residuos de los equipos al final de su vida √∫til.
                    </p>

                    
                    <h2>7. Hacia una Estrategia Ecodesarrollista</h2>
                    <p>
                        Frente a esta encrucijada, se plantea la necesidad de un nuevo enfoque estrat√©gico denominado "ecodesarrollista", que sintetice las visiones del neodesarrollismo (centrado en la competitividad industrial y la soluci√≥n de la restricci√≥n externa) y los ambientalismos latinoamericanos (centrados en la justicia social y la descentralizaci√≥n). Este enfoque propone operar en una "zona √≥ptima" que respete los l√≠mites ecol√≥gicos del planeta mientras garantiza un piso de bienestar social, evitando caer en un modelo de "extractivismo verde" que se limite a exportar recursos sin valor agregado.
                    </p>
                    <p>
                        La estrategia futura debe basarse en tres pilares prescriptivos: una estabilidad macroecon√≥mica que permita financiamiento, una planificaci√≥n inexcusable de la infraestructura de transmisi√≥n y una pol√≠tica de Estado coherente que equilibre la atracci√≥n de inversiones con el desarrollo tecnol√≥gico local y la inclusi√≥n social. La decisi√≥n que tome el pa√≠s definir√° si las energ√≠as renovables ser√°n meramente un commodity de exportaci√≥n o la palanca para una transformaci√≥n productiva, tecnol√≥gica y social profunda en el siglo XXI.
                    </p>
                </div>
            </article>
        </section>

        <section id="tipos" class="section">
            <article class="card">
                <h1>Tipos de Energ√≠as Renovables en Argentina</h1>
                <p>Placeholder: aqu√≠ listaremos solar, e√≥lica, hidr√°ulica, biomasa, geotermia y su estado actual en Argentina.</p>
            </article>
        </section>

        <section id="mapa" class="section">
            <article class="card">
                <div id="leaflet-map"></div>
                
                <button id="sidebar-toggle-mapa" onclick="toggleSidebarMap()">
                    <i class="fas fa-list"></i>
                </button>

                <div id="sidebar-mapa">
                    <h2>Plantas Energ√©ticas üá¶üá∑</h2>
                    <div id="plant-list-container">
                        <p style="text-align:center; color:#666; margin-top:20px;">Cargando listado...</p>
                    </div>
                </div>
            </article>
        </section>

        <section id="simulador" class="section">
            <article class="card">
                <h1>Simulador Fotovoltaico</h1>
                <p>Placeholder para un formulario que permita ingresar irradiaci√≥n, √°rea, eficiencia del panel, p√©rdidas y calcular producci√≥n estimada.</p>
            </article>
        </section>

        <footer id="footer-card" class="card" style="margin-top: 18px;">
            <strong>Bibliograf√≠a y cr√©ditos</strong><br>
            Aqu√≠ iremos listando las fuentes (informes oficiales, Google Sheets, art√≠culos cient√≠ficos, libros). 
            <br><small style="opacity:.85">Puedes a√±adir los enlaces o referencias en el Google Sheet de bibliograf√≠a y los insertamos luego.</small>
        </footer>

    </main>

    <script>
        /* Variables y Configuraci√≥n */
        const sidebarNav = document.getElementById('sidebar-nav');
        const menuToggle = document.getElementById('menu-toggle');
        const sections = Array.from(document.querySelectorAll('.section'));
        const navButtons = Array.from(document.querySelectorAll('.nav-btn'));
        
        // Variables globales para el mapa
        let map;
        const markers = {};

        // 5. Datos: Arreglo de plantas energ√©ticas en Argentina
        const plantsData = [
            // RUTAS CORREGIDAS A 'assets/nombre-del-archivo.jpg'
            { id: 1, nombre: "Parque E√≥lico Arauco", tipo: "e√≥lica", lat: -30.0768, lng: -67.0908, imagen: "assets/arauco.jpg", produccion: "620 GWh/a√±o", provincia: "La Rioja" },
            { id: 2, nombre: "Parque Solar Cauchari", tipo: "solar", lat: -23.7550, lng: -66.9050, imagen: "assets/cauchari.jpg", produccion: "1050 GWh/a√±o", provincia: "Jujuy" },
            { id: 3, nombre: "Central Hidroel√©ctrica Yacyret√°", tipo: "hidroel√©ctrica", lat: -27.4861, lng: -56.7667, imagen: "assets/yacyreta.jpg", produccion: "18500 GWh/a√±o", provincia: "Corrientes" },
            { id: 4, nombre: "Central Termoel√©ctrica Costanera", tipo: "f√≥sil", lat: -34.6142, lng: -58.3497, imagen: "assets/costanera.jpg", produccion: "9000 GWh/a√±o", provincia: "Buenos Aires" },
            { id: 5, nombre: "Central Nuclear Atucha II", tipo: "nuclear", lat: -33.9786, lng: -59.2078, imagen: "assets/atucha.jpg", produccion: "5500 GWh/a√±o", provincia: "Buenos Aires" },
            { id: 6, nombre: "Biomasa Puerto Tirol", tipo: "biomasa", lat: -27.3500, lng: -59.0833, imagen: "assets/tirol.jpg", produccion: "85 GWh/a√±o", provincia: "Chaco" },
            { id: 7, nombre: "Parque E√≥lico Madryn", tipo: "e√≥lica", lat: -42.8100, lng: -65.1700, imagen: "assets/madryn.jpg", produccion: "700 GWh/a√±o", provincia: "Chubut" },
            { id: 8, nombre: "Campo Geot√©rmico Copahue (Ficticio)", tipo: "geot√©rmica", lat: -37.8667, lng: -71.0500, imagen: "assets/copahue.jpg", produccion: "120 GWh/a√±o", provincia: "Neuqu√©n" },
            { id: 9, nombre: "Planta Solar San Juan", tipo: "solar", lat: -31.5375, lng: -68.5361, imagen: "assets/sanjuan.jpeg", produccion: "350 GWh/a√±o", provincia: "San Juan" },
            { id: 10, nombre: "Central Hidroel√©ctrica El Choc√≥n", tipo: "hidroel√©ctrica", lat: -39.1917, lng: -68.7917, imagen: "assets/chocon.jpg", produccion: "7000 GWh/a√±o", provincia: "Neuqu√©n" }
        ];

        // -------------------------------------------
        // FUNCIONES DEL MEN√ö DESPLEGABLE              
        // -------------------------------------------

        function toggleMenu() {
            sidebarNav.classList.toggle('active');
            const icon = menuToggle.querySelector('i');
            if (sidebarNav.classList.contains('active')) {
                icon.classList.remove('fa-bars');
                icon.classList.add('fa-times');
            } else {
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            }
        }

        /* ------------------------------------------- */
        /* NAVEGACI√ìN DE SECCIONES                     */
        /* ------------------------------------------- */

        function clearActiveNav() {
            navButtons.forEach(btn => btn.classList.remove('active'));
        }

        function showSection(id, color, btn) {
            // Cierra el men√∫ desplegable si est√° abierto
            if (sidebarNav.classList.contains('active')) {
                toggleMenu(); 
            }
            
            // Actualiza botones activos
            clearActiveNav();
            if (btn) btn.classList.add('active');

            // Muestra/oculta secciones
            sections.forEach(sec => {
                sec.classList.remove('active','visible');
                if (sec.id === id) {
                    sec.classList.add('active');
                    // reflow para animaci√≥n de entrada
                    requestAnimationFrame(() => {
                        sec.classList.add('visible');
                    });
                }
            });

            // Si se activa la secci√≥n del mapa, inicializarlo
            if (id === 'mapa') {
                // Peque√±o delay para asegurar que el contenedor es visible antes de inicializar Leaflet
                setTimeout(initMap, 100); 
            } else {
                // Destruir el mapa si no estamos en la secci√≥n para liberar recursos
                if (map) {
                    map.remove();
                    map = null;
                }
            }

            // Cambia colores con transici√≥n suave
            document.body.style.backgroundColor = color;
            document.querySelector('main').style.backgroundColor = 'transparent';
            document.getElementById('footer-card').style.backgroundColor = 'rgba(236,240,241,0.9)';
        }


        /* ------------------------------------------- */
        /* FUNCIONES ESPEC√çFICAS DEL MAPA (Leaflet)    */
        /* ------------------------------------------- */

        const typeIcons = {
            e√≥lica: { icon: 'fa-wind', color: '#2ecc71' },
            solar: { icon: 'fa-sun', color: '#f39c12' },
            hidroel√©ctrica: { icon: 'fa-water', color: '#3498db' },
            biomasa: { icon: 'fa-seedling', color: '#8e44ad' },
            geot√©rmica: { icon: 'fa-volcano', color: '#e74c3c' },
            nuclear: { icon: 'fa-radiation', color: '#95a5a6' },
            f√≥sil: { icon: 'fa-smog', color: '#7f8c8d' }
        };

        function createCustomIcon(plantType) {
            const iconData = typeIcons[plantType] || { icon: 'fa-question', color: '#000000' };
            const iconHtml = `<div class="marker-icon type-${plantType}" style="border-color:${iconData.color}"><i class="fas ${iconData.icon}"></i></div>`;
            
            return L.divIcon({
                className: 'custom-icon',
                html: iconHtml,
                iconSize: [30, 30],
                iconAnchor: [15, 30],
                popupAnchor: [0, -30]
            });
        }
        
        function addPlantMarkers() {
            plantsData.forEach(plant => {
                const icon = createCustomIcon(plant.tipo);
                const latLng = [plant.lat, plant.lng];

                // Contenido del Popup
                const popupContent = `
                    <div class="popup-content">
                        <h4>${plant.nombre}</h4>
                        <p><strong>Tipo:</strong> ${plant.tipo.charAt(0).toUpperCase() + plant.tipo.slice(1)}</p>
                        <p><strong>Provincia:</strong> ${plant.provincia}</p>
                        <p><strong>Producci√≥n:</strong> ${plant.produccion}</p>
                        <img src="${plant.imagen}" alt="Imagen de ${plant.nombre}" style="width:100%; height:auto; border-radius: 5px; margin-top: 8px;">
                    </div>
                `;

                const marker = L.marker(latLng, { icon: icon, id: plant.id, plantType: plant.tipo })
                    .bindPopup(popupContent)
                    .addTo(map);

                // Evento para resaltar el item de la sidebar al hacer clic en el marcador
                marker.on('click', () => {
                    highlightSidebarItem(plant.id);
                });
                
                markers[plant.id] = marker; // Almacenar referencia
            });
        }

        function populateSidebar() {
            const container = document.getElementById('plant-list-container');
            container.innerHTML = ''; 

            plantsData.forEach(plant => {
                const iconData = typeIcons[plant.tipo];
                const item = document.createElement('div');
                item.className = 'plant-item';
                item.id = `plant-item-${plant.id}`;
                item.dataset.plantId = plant.id;

                item.innerHTML = `
                    <h3><span class="icon"><i class="fas ${iconData.icon}" style="color: ${iconData.color};"></i></span>${plant.nombre} (${plant.provincia})</h3>
                    <p><strong>Tipo:</strong> ${plant.tipo.charAt(0).toUpperCase() + plant.tipo.slice(1)}</p>
                    <p><strong>Producci√≥n Anual:</strong> ${plant.produccion}</p>
                    <p style="opacity: 0.7;">Ruta: ${plant.imagen}</p>
                `;

                // Sincronizaci√≥n: Al hacer clic en el item, centrar el mapa
                item.addEventListener('click', () => {
                    zoomToMarker(plant.id);
                    highlightSidebarItem(plant.id);
                });

                container.appendChild(item);
            });
        }

        function initMap() {
            if (map) return; // Ya inicializado
            
            const center = [-34.5, -64.0]; 
            const initialZoom = 5;

            // Inicializar el mapa en el div con id='leaflet-map'
            map = L.map('leaflet-map').setView(center, initialZoom);

            // Capa de tiles (OpenStreetMap)
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 19,
                attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
            }).addTo(map);

            addPlantMarkers();
            populateSidebar();

            // Asegurar que el mapa tome la altura correcta despu√©s de la inicializaci√≥n
            map.invalidateSize();

            // Abrir la sidebar del mapa por defecto
            document.getElementById('sidebar-mapa').classList.add('open');
        }

        function zoomToMarker(plantId) {
            const marker = markers[plantId];
            if (marker) {
                map.flyTo(marker.getLatLng(), 10, { duration: 0.8 }); 
                marker.openPopup();
            }
        }

        function highlightSidebarItem(plantId) {
            document.querySelectorAll('.plant-item').forEach(item => {
                item.classList.remove('highlighted');
            });
            const itemToHighlight = document.getElementById(`plant-item-${plantId}`);
            if (itemToHighlight) {
                itemToHighlight.classList.add('highlighted');
                itemToHighlight.scrollIntoView({ behavior: 'smooth', block: 'nearest' }); 
            }
        }

        function toggleSidebarMap() {
            document.getElementById('sidebar-mapa').classList.toggle('open');
        }


        /* ------------------------------------------- */
        /* INICIALIZACI√ìN GLOBAL                       */
        /* ------------------------------------------- */
        document.addEventListener('DOMContentLoaded', () => {
            const visible = document.querySelector('.section.active');
            if (visible) visible.classList.add('visible');
            document.body.style.backgroundColor = '#f9f9f9';

            // Cierra el men√∫ si se hace clic fuera de √©l
            document.addEventListener('click', (e) => {
                const target = e.target;
                const isNavButton = navButtons.some(btn => btn.contains(target));
                const isInsideNav = sidebarNav.contains(target);
                const isMenuToggle = menuToggle.contains(target);

                if (sidebarNav.classList.contains('active') && !isInsideNav && !isMenuToggle && !isNavButton) {
                    toggleMenu();
                }
            });
        });
    </script>

</body>
</html>
